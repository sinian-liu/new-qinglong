/*
tgchannel：https://t.me/Ariszy_Script
github：https://github.com/Ariszy/script
boxjs：https://raw.githubusercontent.com/Ariszy/Private-Script/master/Ariszy.boxjs.json

*/
const $ = new Env('城城分现金互助')
const notify = $.isNode() ?require('./sendNotify') : '';
var _0xod7='jsjiami.com.v6',_0x53a1=[_0xod7,'w6hVC8KFQw==','wqDCnSI=','H14U','5Yml5YqHGeODjA==','c8OHw6tX','w73CgFfDgGFp','wpLDkAI=','GMOWw7kYw4zCqQ==','aSLCgMKiXw==','QjbCosKZeA==','cEFrwrE=','N8OWw7o4','wpbDocOH','XB1hJsKm','ZsOePA==','NcOjw7bDtMKMIg==','McO4w6XDgcKNakLDnVMPw6UoT2EjFHbDm1jDsgAdSHrCo8OPwqrCtH7DvTAfEMOs','UQrDrBw=','Rh0pwo4N','ZlvCmlrCkg==','WTBXwrQa','ZMOuLGbDoA==','FG7CuhnDl8O/D8OxZMOcw5vDhmAuITXCnzvDlBvDojxsMx1swprDpsOAJMKgwrXDgGRkwqHDlnzDnHwEb0k2DcK1TMOUUMKqw7U9w55VLMK1w7nCvm7CtjTDjsOfLcK9w7xJwqjDjhUqwqXDlToxwpYpG8OAamfDscKFwpw4wpvDucKrwpPCmcO6EsKODX7CosO2wrrCocKwYTrDvHbCgz3Cj8K2R8OsTMOKw4TCsTzCusOdD8K8TsKwcMOObDxqX8Kqw4PCscOaVsOFwpvClcK3w4xTWcOjw45Q','w65zOcKMZA==','eXzCrzU9','wrTDowTCm8KD','fnPCtkjCpg==','w4DCn0zDk0w=','wpHDqMKaw4AQ','wrvDj17CtQ==','W3jCjDI=','FWwOwo5M','w7HDl8Klw6LCgg==','CnnCtsO1wqI=','w5ssKsOTwq8=','w5Zyw6PClw==','woPCoF7DgcKhGVc=','wpLDlFXCp8Oj','wo3CsHbDssKC','TcOJcsKOXA==','aXLDnMObfw==','w4LDnGcQTA==','w5xyw7rCkw==','5aST5Yyq5LmW5YmT56CO44KQ','w6vChFDDlA==','PcOtw6XDkA==','w7jDg3tcZMK6','fsOePnLDsMKowoBZwqLDjBJENSjDvA==','w5/CpR5OwoPDjSNG','wqBzXg==','44OF5o2+5LqX5qOs5b665LuL7727fEvDpcO7ScKDQcKRw4JfwqA7wp3CghkEw6UfWADCtsKGA2TDk8Kvw7I=','FnrCoBs=','w5LCqhxG','w7XDusKQw4bCgQ==','wrfDinrCs8Oj','B2nCiSXCgg==','SDdXO8KL','wqPDhhI=','wo/DsX3DrzQ=','w6jDgGlwYg==','I8O6w6nDo8K7','wqPDt8ODwo7DiA==','w5t0wqR+wrE=','wqLDl8KVw7Uf','OW0QwrFV','V8OzbsKyag==','w7hKwrl7wrE=','DH7CjinCsMKu','IsKwwqvCj3o=','w4bDt2dcfQ==','YcOgw7p9w70=','WQBewrox','PMOCw6Mh','wrnDu13CssO7','w5VnDQ==','R3jCmA==','RsOeMmnDsw==','w4fDnWQ=','woPjgLPkuazkuLLot4Hlj5Y=','w6fDs8KTw4PCmV1yEw==','5aWW5Y+c5Lmt5Yuv56Gz44GA','wqrDlAHClw==','w4DDpcKFw4TCu0g=','wq3DocKb','wodvATQ=','w5x1HsKn','B8KPwrLCk3vDpCPCkw==','Q8OuYsK9Yg==','w6EGwrE=','w41Rwox9wpY=','d8OdcMKIw5E=','w6ZMYsK6Pg==','YUzCgEQ=','w6YNLiLDjg==','wpPDhgsPNMKw','W2LCjC4=','UhRpNg==','wojDlH3DnzY=','6K+t5Ym/6ZqI5oeU5ZyAw7dcw4Q+Yui8p+WGueahseS/kuaUouWHt+WusTfluqjorJnpgqTovajohp3mnLjljavojZLljbZ4W8O6BEcT','A0jDnFBA','w5HCoAdqwrY=','OMOUw7LDmcKJ','w69UcsKtPQ==','PsOMw6k=','wpHDsWLDuQ==','wpbCpW7Dj8Ke','IsKswp7Cq2s=','wpDDi8OKwqzDng==','WxBwwokCwo4k','w5xab8K1MS3DtMON','wqBhGj5Xw4h5w7jDjQ==','wrnDocOPwoTDrS5+w4Vu','A8KAwrQ=','CMKIwqjCjmrDsw==','wo5qw77Dl8OmYg==','O8OQw4ArFcKA','bHHDicOKelDCgcO/','ZiDDixzCv8OTw4M=','wqbDq8KIw48nw6nCvyw=','44Oc5oyi56W/44K+6K2F5YWr6I655Y6Ew6VpeQEpwoof55iV5o215LyE55WHw77CmMKlw5bCmVPnmLvkuoPkupPnr5LliK3ojJPlj5g=','wo3DgicxJA==','ZcOHw51vw7E=','NMO/w7Y=','N8Otw7zDlA==','ZMO0HETDhg==','eQ95I8KAwpQlw5weXMOlesKeXsKow5MnUMKnD8OyCMOCE8O4wpfDl8K/wpvCm3VCDjjDphbCsnZNw6bCocKvw54=','VMOJw7tT','bMOgV8Krw7Bf','wrZ9ECdww4xew5k=','woXDkifCn8KQ','wpfDr8OUwozDrA==','P0jCqsOlwp0=','Gl8XfMKi','w4DDl8KDw7zCoA==','wrXDoMOTwozDrg==','DsOzwojCtA4=','w4XDlsKAw5zCqlw=','YcO1ScKgw61UA8KeeBsjwpUcV27Dg8Oiw68be8OsWMOrwqooY8OywpHDvF1XYcOs','w60FwqbCjTwhacKSWV5CGcKiw4I2wogQwqXCn1ZpKhswPWN2wojCgsKuXXzDgw==','w5lkA8OoesOkw5g7w4EedRA=','wpfDpHvDrCLCt8KYHMOqwpbDh8Osw77Du2rDoQPDsMOZwpXChEfDsU5Uw6HCmMOvMj7DscO+wr5X','FkHCkh7Crg==','FEsaacO2w4lTfStCEMO1TMOWcMO3Nw==','eyBDwrAm','dAHDiibCgg==','wqvDqsKdw7c4wqfCpA8ZDsKRBE/CqcKDwqfCocOdw4TDlmcKKMOMf8Kkw7DDqjLDp8OowoJxwrvCo8OlwqxpwrsYwoFoLlvCnlYXS1dxwoxowrN9wpQUwqHCkU8wwpczSEo9wokSwrvCrmTCtxomDsO9PMK9MGwxG8KOd3LCoF/CsljDlUnDsibDtmtbwqTDhDpOw7BrEhoPw4ZzdF3CnWl8TyPCtFU9wp8Uw6zCvD5vfsKcScOqw5fCtcKGwqxIEDsRR8Kmwq1jbR3CgTjCpBMODMKvwofCqm4pME9Twr9jw67CrsKdwrDDmMKSIjHDn8Oka8KsYsOkHcOyw5l7wq3DvyzDkgxuw4oNw4VacnLDsw/CjMO9wqvDm8KNw6Uow7nDrcK8w6fCjzfDumbDjyJmwqTDjBAWaMKzw40nw5UDwqrDvcK3UlYDHkgKw7UGbxNKwqzDn19+ccOPMgHDssO3wqXCuENgwr9jL0LCh8K5w5cbMg/Cp8OpwpjClyXCk8KwW2B0GMOsw6vCnQXDkGnCsw7DkDMSI8OAfcKaIDdqDWViw5PCisK7wqPDvsOMeMKhw47DvmTDiQ3Cp2rDqsKew6DDssKJWmpjwq/DocOBLsO1TcKtUk4OBMKRw4EWNsO6IMK1wqoVQsKday3CiywNYsKwSgnCr8O3IsOjwokIw7TCkDPCicOtwr7CjcKUccKcOVxTHSvDr8O6woQTwqJLwpHCo8OQw7PCq0Fy','IkjClA==','w4h1GMK1cg==','w7XDp8Khw6PCrg==','e8Okw61Sw7M=','w6goL8OWwos=','w44oKzTDvQ==','CG7CkhzDiw==','Kl7CjiLDpw==','w4DCkVTDo0Q=','w7rCoxtmwrk=','w6LDknxZe8O0wrR2w6zChsKEHMOmagoOwpzDt8KcDcKwwoVzAcKoDcOGOcONwp7DvsOfIsOMVSogwrl7w7DDl0tEw44qZ1TChEg9UcKiI8KwFcOITmQxwoc=','NUzCqg==','VUVgwp5g','cXbCmxwg','w5YUwrLCuwc=','worDu8OTwoc=','wrzDtGbDsxk=','wrnDi13Ct8OBwpk=','w4LDuMK6w7DCng==','aULCiREk','M0TCsmw=','dsOXw65lw6E=','wqbDq8KIw5Mhw7HCqA==','ZFHDiMOFUw==','Dl0VwrF7','DcOJw7vDv8KG','Z8OgTcKYw61aBw==','MUjCqgjCrA==','wo5qw77DrMOuYBwDGkE=','PsOMw6kBA8KX','w5rCpA8=','w6vjgZzkubHkuKnotIrljLo=','G3XCsB/Dmw==','fmTCmjQ8MFzCuw==','w6TDh2VM','5aeF5Y+f5Lu45Ymv56CW44Ob','w61CwrRP','w5bDocKCw5A=','csOgSsK5w6hD','YsOVw7pEw5Rnw5rCoFktw5tiUAHCpw==','wpPDoMOWwobDsC5Ew6s=','44G95o2C5LmY5qOr5b2p5LuI77+6VsOfw7DCvxE0w5rDpm/CvcKobsKMEnQ2wox5PTw9wqrCrcOGPhND','w4B2w6TCg8KBPQ==','w5zDisKCw6vCmU3DvxPCvn4pOEbCih8=','Gl8FcMKuwox+fA==','AEYYesKS','DX0OwpFJw5k=','w6/DhkIbTg==','woPCuATDncO+','w5FPwo97wrM=','MVDCr2DDmcKp','wpPDv2g=','fE3CnlnCnw==','w6EBwrvClCI=','wq/DvcOFwp3Diipgw6o=','5Y+B5bKG5Ymf5Yiq44OH','SBTCqsKTcw==','w7IuLzbDm0g=','SBfChA==','5b2Z5aeu566/','w71RKMKKRA==','wo0pwrNSWMKl','PMKJwqvCvmQ=','w51kJcKTUQ==','wofDsRYNIg==','5Yqi5Yi25q265pWw5bWD57iE6IOj5bCm','w63DpFUCdg==','AMOFw5XDkMKf','RQjCk8K2W8Opwr7DlmtBw4sDagjCjsOIP8OFw7rDlGHDumMIF07DlAl+wo3DqsOPw74=','w60eDsOWwoRtw67Di1txw6xVwprDmMK0w4lDw4l9w75ww6PDv3Btw7PChMKjw4vCvT7Cs8Od','wrPDm13Cs8OBwpgOPXHDtMKkR8KDQcKJw75Mwqw5wrzCmQ0Cw44aSRLCsMKHD2bDksO4w4nCgR84w5XDt8KYw6ESw7LCrMKwwrdgwp3CgGjDmcOJAx0cVsOaTcKzKsOOwpbCgA7CqRRVcsKoZX/Co8Kaf8KJM8OVRcKOLnLCtg==','wr0ZIsK2PSnDmsOAwpjDhXjCtsKdFkjDpGnDqTjClMKfIMKYYxBLeQAiw400GMO+w7RYwqcXwqvChyNBw6LCrMOrJkwaw4DCrcOlJG9ow783w6YWQkzDqg==','dX5awo98','wq/DhRzDmMKFOcOPw60ZwoVIw6g=','M0HDsmJBMsKoJcOFwqLDhV5qbysrLhHDrx/CgMOiw7kTwpAxw68dwrU3w6rCtsKZRcKYwoPCikwBwpp2wqkWwrjDmlgLdMOHPXvCjAjCnxzDu8O0wqHCpcKMdsOcXcOEaQ49wrkBw5IGQHowwpxrGMOCw612CD42DsOaNCnCgMOKRCbDkcOkwp52A13DrUbCtknCklnDv8O0w7TDoBF9C8KnXnZFw55aAsOuRiQPwopCw4TDs8OJwoUoZnJpw5A+cxnDukDDn0jDlMKFIGrDrBVLw73Dm0V6w4lKw6JjfRjCl8KgH8KUClxsPnHDqsOJw6fCusKiV8OEQwV7fcOSwrTChF/CrnLCnMKkHn1dH8Ksw7RTZypJw5gIw4LCsQTDg2bDpXMoccKvwrUUw5PDvj7DnlHClUXCnTbDkMOnXMK4wqPDl8KiwprCvsO+w4ddwqYrwoMLwoVTdB/DqMOLwq7CgUIBbmrCmH0VUCMSw5lRbsK6w4sUw6Mdw6QSw5JQW2Z4WGzChcOlw5vCusKIw63CvlPDnMKYYMKsfMKzw4zCt8KOMyrDpX7DjsKqwrwDbcK2aX9kEMOaOlTCu8K3P8OfcTdpw7zChMOKTcKBw7I8LwfCl8OWw7N4eBXDncOtw5wwAsOWPBjCg8Kxw49Ob8O2dRlGw4vDjMOgwqvCmcKGw4XDusKUFxXDh8KnIsKvw6VNw4HChQspBl/CqMO+R8KEwqkVfsO9ZcK6','w4LDr8KFw4U=','CMOPw6sUCw==','wpTDmRDCpsKS','CsKAwrDCmw==','EEzCrR/CvQ==','w5p9EMKFeMKuw5c=','V8OaZMKjRQ==','wpLCrXLDhcKe','w6HDllFKUA==','w7tUdMK/','w6wuMiTDg1Q=','wqh9TcK9','cy0dwqYkNQ==','f8OCOnPDhcK4','w7/Dp2VwYQ==','w4/Dk3cU','WXLCjDMeJQ==','eGDDnMO2YFY=','w7LDrmVzWA==','w6bDiW8=','P33CuA/Dtg==','FMO5wpvCni0=','fRRqFsKBw5w=','dVjCh00=','w4pxGcKze8K+','wpXCpkXDscK6Dg==','w4bDr8KXw4LCo08=','cS9nwpUO','w5/CpEXDtlk=','AuCLZJtjwsjiamiEPPI.ZgcoZUm.v6=='];(function(_0xebcfd9,_0x199ebc,_0x53d8d3){var _0x9fdabb=function(_0x1da51f,_0x10382c,_0x21a01e,_0x13a90b,_0x147c43){_0x10382c=_0x10382c>>0x8,_0x147c43='po';var _0x4a0972='shift',_0x3afc8e='push';if(_0x10382c<_0x1da51f){while(--_0x1da51f){_0x13a90b=_0xebcfd9[_0x4a0972]();if(_0x10382c===_0x1da51f){_0x10382c=_0x13a90b;_0x21a01e=_0xebcfd9[_0x147c43+'p']();}else if(_0x10382c&&_0x21a01e['replace'](/[AuCLZJtwEPPIZgZU=]/g,'')===_0x10382c){_0xebcfd9[_0x3afc8e](_0x13a90b);}}_0xebcfd9[_0x3afc8e](_0xebcfd9[_0x4a0972]());}return 0x8bab5;};return _0x9fdabb(++_0x199ebc,_0x53d8d3)>>_0x199ebc^_0x53d8d3;}(_0x53a1,0x6c,0x6c00));var _0x2b3b=function(_0x132aa8,_0x113954){_0x132aa8=~~'0x'['concat'](_0x132aa8);var _0x277112=_0x53a1[_0x132aa8];if(_0x2b3b['TmGbCp']===undefined){(function(){var _0x9cdabe=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x5a2b8c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x9cdabe['atob']||(_0x9cdabe['atob']=function(_0x572903){var _0x2dd627=String(_0x572903)['replace'](/=+$/,'');for(var _0x42cfba=0x0,_0x9061da,_0x61c604,_0x15c408=0x0,_0x2544db='';_0x61c604=_0x2dd627['charAt'](_0x15c408++);~_0x61c604&&(_0x9061da=_0x42cfba%0x4?_0x9061da*0x40+_0x61c604:_0x61c604,_0x42cfba++%0x4)?_0x2544db+=String['fromCharCode'](0xff&_0x9061da>>(-0x2*_0x42cfba&0x6)):0x0){_0x61c604=_0x5a2b8c['indexOf'](_0x61c604);}return _0x2544db;});}());var _0x4c4d77=function(_0x2e23bb,_0x113954){var _0x4d492d=[],_0xf76c07=0x0,_0x4f0214,_0x2364a3='',_0x567678='';_0x2e23bb=atob(_0x2e23bb);for(var _0x3d9dde=0x0,_0x3d138f=_0x2e23bb['length'];_0x3d9dde<_0x3d138f;_0x3d9dde++){_0x567678+='%'+('00'+_0x2e23bb['charCodeAt'](_0x3d9dde)['toString'](0x10))['slice'](-0x2);}_0x2e23bb=decodeURIComponent(_0x567678);for(var _0x386f11=0x0;_0x386f11<0x100;_0x386f11++){_0x4d492d[_0x386f11]=_0x386f11;}for(_0x386f11=0x0;_0x386f11<0x100;_0x386f11++){_0xf76c07=(_0xf76c07+_0x4d492d[_0x386f11]+_0x113954['charCodeAt'](_0x386f11%_0x113954['length']))%0x100;_0x4f0214=_0x4d492d[_0x386f11];_0x4d492d[_0x386f11]=_0x4d492d[_0xf76c07];_0x4d492d[_0xf76c07]=_0x4f0214;}_0x386f11=0x0;_0xf76c07=0x0;for(var _0x501e1e=0x0;_0x501e1e<_0x2e23bb['length'];_0x501e1e++){_0x386f11=(_0x386f11+0x1)%0x100;_0xf76c07=(_0xf76c07+_0x4d492d[_0x386f11])%0x100;_0x4f0214=_0x4d492d[_0x386f11];_0x4d492d[_0x386f11]=_0x4d492d[_0xf76c07];_0x4d492d[_0xf76c07]=_0x4f0214;_0x2364a3+=String['fromCharCode'](_0x2e23bb['charCodeAt'](_0x501e1e)^_0x4d492d[(_0x4d492d[_0x386f11]+_0x4d492d[_0xf76c07])%0x100]);}return _0x2364a3;};_0x2b3b['KWWzAS']=_0x4c4d77;_0x2b3b['IQUmev']={};_0x2b3b['TmGbCp']=!![];}var _0x4b29a2=_0x2b3b['IQUmev'][_0x132aa8];if(_0x4b29a2===undefined){if(_0x2b3b['dNOFVb']===undefined){_0x2b3b['dNOFVb']=!![];}_0x277112=_0x2b3b['KWWzAS'](_0x277112,_0x113954);_0x2b3b['IQUmev'][_0x132aa8]=_0x277112;}else{_0x277112=_0x4b29a2;}return _0x277112;};cookiesArr=[];CodeArr=[];cookie='';cookiesArr=[$[_0x2b3b('0','tBl)')](_0x2b3b('1','2BZC')),$['getdata'](_0x2b3b('2','2CV8')),...jsonParse($['getdata'](_0x2b3b('3','TkZj'))||'[]')[_0x2b3b('4','[o3r')](_0x2b201d=>_0x2b201d['cookie'])][_0x2b3b('5','[o3r')](_0x23f2c9=>!!_0x23f2c9);let tz=$[_0x2b3b('6','X3YK')]('tz')||'1';const invite=0x1;const logs=0x0;var hour='';var minute='';if($[_0x2b3b('7','OByb')]()){hour=new Date(new Date()['getTime']()+0x8*0x3c*0x3c*0x3e8)[_0x2b3b('8','DnOY')]();minute=new Date(new Date()[_0x2b3b('9','z1h0')]()+0x8*0x3c*0x3c*0x3e8)['getMinutes']();}else{hour=new Date()[_0x2b3b('a','csP4')]();minute=new Date()['getMinutes']();}!(async()=>{var _0x31eec5={'XmBWO':function(_0x519224,_0x53cb9a){return _0x519224===_0x53cb9a;},'raBYd':'JyzQu','cWoJv':_0x2b3b('b','&3&9'),'oYGDw':'https://bean.m.jd.com/bean/signIndex.action','KgRix':function(_0x2221f5,_0x4fd378){return _0x2221f5(_0x4fd378);},'tAIIs':function(_0x2b7bc4,_0x203614){return _0x2b7bc4+_0x203614;},'Onscj':function(_0x3a6da8){return _0x3a6da8();}};if(!cookiesArr[0x0]){if(_0x31eec5['XmBWO'](_0x31eec5[_0x2b3b('c','nmoH')],_0x31eec5[_0x2b3b('d','W!my')])){$[_0x2b3b('e','y$mK')]($[_0x2b3b('f','y$mK')],_0x31eec5['cWoJv'],_0x31eec5[_0x2b3b('10','#rC0')],{'open-url':_0x2b3b('11','6[7j')});return;}else{sharecodeArr['push'](sharecodesArr[i][j][_0x2b3b('12','W!my')]);}}for(let _0x1822a6=0x0;_0x1822a6<cookiesArr[_0x2b3b('13','*C@4')];_0x1822a6++){cookie=cookiesArr[_0x1822a6];$[_0x2b3b('14','2CV8')]=_0x31eec5[_0x2b3b('15','b%hl')](decodeURIComponent,cookie[_0x2b3b('16','TkZj')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x2b3b('17','[XXd')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);message='';$[_0x2b3b('18','[^8H')]=_0x31eec5['tAIIs'](_0x1822a6,0x1);console['log']('\x0a开始【城城分现金互助'+$[_0x2b3b('19','%sQz')]+'】');await _0x31eec5['Onscj'](getinfo);await _0x31eec5[_0x2b3b('1a','TkZj')](formatcode);}})()[_0x2b3b('1b','[NQz')](_0x2f5b14=>$[_0x2b3b('1c','%sQz')](_0x2f5b14))['finally'](()=>$['done']());function PostRequest(_0x288e52){var _0x3a2133={'sLRXz':_0x2b3b('1d','*C@4'),'uDunT':'keep-alive','IwHmd':_0x2b3b('1e','DYby'),'qDQsm':_0x2b3b('1f','*VWw')};const _0x4b777f=_0x2b3b('20','qaN%');const _0x127b9e='POST';const _0x5ea8b0={'Accept':_0x3a2133[_0x2b3b('21','dMgS')],'Accept-Encoding':_0x2b3b('22','[^8H'),'Accept-Language':_0x2b3b('23','Iv#p'),'Connection':_0x3a2133[_0x2b3b('24','z1h0')],'Content-Type':_0x3a2133['IwHmd'],'Cookie':cookie,'Host':_0x3a2133['qDQsm'],'User-Agent':_0x2b3b('25','csP4')};return{'url':_0x4b777f,'method':_0x127b9e,'headers':_0x5ea8b0,'body':_0x288e52};}function GetRequest(_0x567203){const _0x23abc3='https://jdjoy.jd.com/module/freshgoods/getMyTask?'+_0x567203;const _0x4100bc=_0x2b3b('26','dMgS');const _0x4dba01=JSON[_0x2b3b('27','*VWw')](cookie);return{'url':_0x23abc3,'method':_0x4100bc,'headers':_0x4dba01};}async function readShareCodes(){var _0x5222ff={'dFQlf':function(_0x590501,_0x48be8f){return _0x590501+_0x48be8f;},'awApe':function(_0x5c39fc,_0xea893e){return _0x5c39fc*_0xea893e;},'PcjeR':function(_0x135882,_0x4280e6){return _0x135882*_0x4280e6;},'zuFfh':function(_0x374fc5,_0x816029){return _0x374fc5===_0x816029;},'XEZXD':function(_0x16c774,_0x4c62d4){return _0x16c774<_0x4c62d4;},'OtpVI':_0x2b3b('28','Vvv('),'LhsAN':_0x2b3b('29','W!my')};return new Promise(_0x5c435c=>{var _0x361447={'aqqSt':function(_0x3700bc,_0x13d2f4){return _0x5222ff[_0x2b3b('2a','THe$')](_0x3700bc,_0x13d2f4);},'oEuGF':function(_0x4d1d9e,_0x12940d){return _0x5222ff['awApe'](_0x4d1d9e,_0x12940d);},'TEjNx':function(_0x4d8dc9,_0x1ba49f){return _0x5222ff[_0x2b3b('2b','7N8(')](_0x4d8dc9,_0x1ba49f);},'UqxGw':function(_0x5cc039,_0x4a9c58){return _0x5222ff[_0x2b3b('2c','mopz')](_0x5cc039,_0x4a9c58);},'CdioH':function(_0x420944,_0x38a64e){return _0x5222ff[_0x2b3b('2d','mopz')](_0x420944,_0x38a64e);},'EicVg':function(_0x1e4c9f,_0x14ed3c){return _0x1e4c9f!==_0x14ed3c;},'pxLAI':_0x5222ff[_0x2b3b('2e','uTXw')],'BUvWV':_0x5222ff[_0x2b3b('2f','3w6d')]};let _0x14ed61={'url':_0x2b3b('30','L1EI')};$[_0x2b3b('31','[XXd')](_0x14ed61,async(_0x505f7b,_0x3f4d27,_0x10254b)=>{if(_0x361447[_0x2b3b('32','z1s#')](_0x2b3b('33','MbZp'),_0x2b3b('34','DYby'))){try{const _0x3652ee=JSON['parse'](_0x10254b);if(!![]){var _0x2ed354=new Array();for(var _0x471ad9 in _0x3652ee){_0x2ed354[_0x2b3b('35','TkZj')](_0x3652ee[_0x471ad9]);}var _0x211f4b=new Array();for(let _0x471ad9=0x0;_0x361447[_0x2b3b('36','qaN%')](_0x471ad9,_0x2ed354[_0x2b3b('37','hhHE')]);_0x471ad9++){for(var _0x318687 in _0x2ed354[_0x471ad9]){if(_0x361447['EicVg'](_0x361447[_0x2b3b('38','Vvv(')],_0x361447[_0x2b3b('39','MbZp')])){_0x211f4b[_0x2b3b('3a','9]B^')](_0x2ed354[_0x471ad9][_0x318687]['Code']);}else{hour=new Date(_0x361447[_0x2b3b('3b','W!my')](new Date()[_0x2b3b('3c','csP4')](),_0x361447[_0x2b3b('3d','DnOY')](_0x361447[_0x2b3b('3e','sji%')](_0x361447[_0x2b3b('3f','y$mK')](0x8,0x3c),0x3c),0x3e8)))[_0x2b3b('a','csP4')]();minute=new Date(new Date()[_0x2b3b('40','*C@4')]()+_0x361447[_0x2b3b('41','dMgS')](0x8,0x3c)*0x3c*0x3e8)[_0x2b3b('42','X3YK')]();}}}CodeArr=_0x211f4b;return _0x211f4b;}}catch(_0x3310b7){$[_0x2b3b('43','OByb')](_0x3310b7,_0x3f4d27);}finally{_0x5c435c();}}else{console[_0x2b3b('44','3w6d')](_0x2b3b('45','5GmO')+$[_0x2b3b('46','mopz')]+'（'+$[_0x2b3b('47','MbZp')]+'）的'+$[_0x2b3b('48','L1EI')]+_0x2b3b('49','*VWw')+(_0x3652ee[_0x2b3b('4a','BJsq')]&&_0x3652ee[_0x2b3b('4b','Vvv(')][_0x2b3b('4c','*C@4')][_0x2b3b('4d','W!my')][_0x2b3b('4e','TkZj')])+'\x0a');console['log'](_0x2b3b('4f','[NQz')+(_0x3652ee['data']&&_0x3652ee['data'][_0x2b3b('50','rADj')][_0x2b3b('51','%sQz')][_0x2b3b('52','[^8H')])+'】\x0a');}});});}async function formatcode(){var _0x2742db={'AGJbr':function(_0x15d31a){return _0x15d31a();},'DtAnz':function(_0x54e084,_0x3e333d){return _0x54e084<_0x3e333d;},'OJArL':function(_0x58150c,_0x182395){return _0x58150c!==_0x182395;},'XlOUT':_0x2b3b('53','[^8H'),'mtmuw':function(_0x35934a,_0xee6b67){return _0x35934a+_0xee6b67;},'bFcSR':'随机取出3个助力码,账号','llIIA':function(_0x5671fd,_0x245694){return _0x5671fd<_0x245694;},'EEBLS':function(_0x1c1fed,_0x446855){return _0x1c1fed(_0x446855);},'DiPiF':function(_0x25705a,_0xf8aaa6){return _0x25705a*_0xf8aaa6;}};await _0x2742db['AGJbr'](readShareCodes);var _0x256922=[];var _0x566a77=CodeArr;var _0x735bf0=_0x566a77[_0x2b3b('54','sji%')];for(var _0x543a4e=0x0;_0x2742db[_0x2b3b('55','Ou@6')](_0x543a4e,0x3);_0x543a4e++){if(_0x2742db[_0x2b3b('56','&3&9')](_0x2742db[_0x2b3b('57','BJsq')],'swkcH')){const _0x4464ba='https://jdjoy.jd.com/module/freshgoods/getMyTask?'+uri;const _0x33f293='GET';const _0x274b2a=JSON['parse'](cookie);return{'url':_0x4464ba,'method':_0x33f293,'headers':_0x274b2a};}else{var _0x3a2f01=~~(Math[_0x2b3b('58','9]B^')]()*_0x735bf0)+_0x543a4e;_0x256922[_0x543a4e]=_0x566a77[_0x3a2f01];_0x566a77[_0x3a2f01]=_0x566a77[_0x543a4e];_0x735bf0--;}}console[_0x2b3b('59','qaN%')](_0x2742db[_0x2b3b('5a','(omG')](_0x2742db[_0x2b3b('5b','DYby')](_0x2742db['bFcSR']+($[_0x2b3b('5c','TkZj')]+_0x2b3b('5d','Vvv(')),_0x256922),'】\x0a'));for(let _0x543a4e=0x0;_0x2742db[_0x2b3b('5e','6cUl')](_0x543a4e,_0x256922[_0x2b3b('5f','7N8(')]);_0x543a4e++){console[_0x2b3b('60','6cUl')](_0x2742db['mtmuw'](_0x2b3b('61','$[Q#')+(_0x543a4e+0x1)+'次助力'+_0x256922[_0x543a4e],'\x0a'));await _0x2742db[_0x2b3b('62','*VWw')](help,_0x256922[_0x543a4e]);await $['wait'](_0x2742db['DiPiF'](0x3e8,_0x256922[_0x2b3b('63','5GmO')]));}}async function help(_0x122742){var _0xb0a6c5={'ZlePz':_0x2b3b('64','[o3r'),'uAmYi':function(_0x5acd15,_0x4b69ba){return _0x5acd15==_0x4b69ba;},'MZcxm':function(_0x4c6292,_0x2df6eb){return _0x4c6292!==_0x2df6eb;},'sdVGP':_0x2b3b('65','*VWw'),'kpYcX':_0x2b3b('66','nmoH'),'xHmZP':function(_0x5e62dd,_0x183bf0){return _0x5e62dd===_0x183bf0;},'zpEPB':'kMsir','MfluU':function(_0x4954a5,_0x3f6934){return _0x4954a5+_0x3f6934;},'ykgIK':_0x2b3b('67','#rC0'),'PAaCT':_0x2b3b('68','Ou@6'),'fNACJ':_0x2b3b('69','y$mK'),'DHelD':function(_0x52c670){return _0x52c670();},'uJBVk':_0x2b3b('6a','6cUl'),'gsTUL':_0x2b3b('6b','THe$'),'JfBFc':function(_0x477d27,_0x5df2e1){return _0x477d27(_0x5df2e1);}};const _0x31f0bf=_0x2b3b('6c','hhHE')+_0x122742+_0x2b3b('6d','2BZC');const _0x197f2c=_0xb0a6c5['JfBFc'](PostRequest,_0x31f0bf);return new Promise(_0xe9b7e3=>{var _0x5ce1ab={'arsfK':_0xb0a6c5[_0x2b3b('6e','z1s#')],'UcOGy':_0xb0a6c5['gsTUL'],'IloJV':_0x2b3b('6f','b%hl'),'gosSS':_0x2b3b('70','$[Q#')};$[_0x2b3b('71','Vvv(')](_0x197f2c,async(_0x332a8a,_0xf27ebb,_0x15a9cd)=>{if(_0xb0a6c5[_0x2b3b('72','OByb')]===_0xb0a6c5[_0x2b3b('73','b%hl')]){try{const _0xb09aea=JSON['parse'](_0x15a9cd);if(logs)$['log'](_0x15a9cd);if(_0xb09aea&&_0xb09aea[_0x2b3b('74','[o3r')]&&_0xb0a6c5[_0x2b3b('75','dMgS')](_0xb09aea['data'][_0x2b3b('76','*VWw')],0x0)){if(_0xb0a6c5[_0x2b3b('77','g8tW')](_0xb0a6c5[_0x2b3b('78','SRdz')],_0xb0a6c5[_0x2b3b('79','L1EI')])){if(_0xb09aea[_0x2b3b('7a','2BZC')][_0x2b3b('7b','7N8(')]['toasts']&&_0xb09aea[_0x2b3b('7c','H4zz')][_0x2b3b('7d','Iv#p')][_0x2b3b('7e','#rC0')][0x0]&&_0xb0a6c5[_0x2b3b('7f','L1EI')](_0xb09aea[_0x2b3b('80','Ou@6')][_0x2b3b('81','MbZp')]['toasts'][0x0][_0x2b3b('82','DnOY')],0x3)){if(_0xb0a6c5[_0x2b3b('83','L1EI')]('kMsir',_0xb0a6c5['zpEPB'])){console[_0x2b3b('84','L1EI')](_0xb0a6c5[_0x2b3b('85','mopz')](_0xb0a6c5[_0x2b3b('86','[NQz')],'\x0a'));}else{$[_0x2b3b('87','6[7j')](e,_0xf27ebb);}}if(_0xb09aea[_0x2b3b('88','(omG')][_0x2b3b('89','*VWw')][_0x2b3b('8a','SRdz')]&&_0xb09aea['data']['result'][_0x2b3b('8b','Vvv(')][0x0]){if(_0xb0a6c5[_0x2b3b('8c','tBl)')](_0xb0a6c5[_0x2b3b('8d','uTXw')],_0xb0a6c5[_0x2b3b('8e','*VWw')])){$[_0x2b3b('8f','&3&9')](message);}else{console[_0x2b3b('90','[^8H')](_0x2b3b('91','H4zz')+_0x122742+'】:'+_0xb09aea[_0x2b3b('92','W!my')][_0x2b3b('93','uTXw')]['toasts'][0x0][_0x2b3b('94','nmoH')]+'\x0a');}}}else{$[_0x2b3b('95','zodJ')](e,_0xf27ebb);}}else{if(_0xb0a6c5[_0x2b3b('96','6cUl')](_0xb0a6c5['fNACJ'],_0xb0a6c5[_0x2b3b('97','6cUl')])){for(var _0x243b2f in sharecodesArr[i]){sharecodeArr[_0x2b3b('98','z1s#')](sharecodesArr[i][_0x243b2f][_0x2b3b('99','zodJ')]);}}else{$[_0x2b3b('9a','TkZj')](_0xb0a6c5[_0x2b3b('9b','6[7j')]('😫'+_0xb09aea[_0x2b3b('9c','#rC0')],'\x0a'));}}}catch(_0x4e62bf){$[_0x2b3b('9d','y$mK')](_0x4e62bf,_0xf27ebb);}finally{_0xb0a6c5['DHelD'](_0xe9b7e3);}}else{const _0x3e05fe=_0x2b3b('9e','y$mK');const _0x36abc1=_0x2b3b('9f','z1h0');const _0x3c58b6={'Accept':_0x5ce1ab['arsfK'],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':_0x2b3b('a0','tBl)'),'Connection':'keep-alive','Content-Type':_0x5ce1ab['UcOGy'],'Cookie':cookie,'Host':_0x5ce1ab['IloJV'],'User-Agent':_0x5ce1ab['gosSS']};return{'url':_0x3e05fe,'method':_0x36abc1,'headers':_0x3c58b6,'body':_0x31f0bf};}});});}async function getinfo(){var _0x4d1e3a={'WEILM':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','VgSJs':function(_0x3a90a9,_0x3c79c0){return _0x3a90a9*_0x3c79c0;},'RkPsO':function(_0x368675,_0x407986){return _0x368675!==_0x407986;},'pbIRK':function(_0x171411,_0x13e613){return _0x171411==_0x13e613;},'zVqmk':function(_0x3a59ee,_0x188896){return _0x3a59ee===_0x188896;},'oJEdN':_0x2b3b('a1','(omG'),'ciqTF':_0x2b3b('a2','tBl)'),'OzhfA':function(_0x40086c,_0x5ada7b){return _0x40086c!==_0x5ada7b;},'PffGX':_0x2b3b('a3','#rC0'),'mnamN':function(_0x27607f,_0x2b74b5){return _0x27607f(_0x2b74b5);}};const _0x31254e=_0x2b3b('a4','mopz');const _0x1408a9=_0x4d1e3a['mnamN'](PostRequest,_0x31254e);return new Promise(_0x3977d=>{var _0x2b6c6e={'bfaYj':function(_0x483dd9){return _0x483dd9();},'zvxRE':function(_0x5b3207,_0x48a18c){return _0x5b3207+_0x48a18c;},'DZnEL':function(_0x3b2fae,_0x364242){return _0x4d1e3a[_0x2b3b('a5','*VWw')](_0x3b2fae,_0x364242);},'ttnxq':function(_0x411511,_0x23bdea){return _0x411511!==_0x23bdea;},'eRMHG':function(_0x272700,_0x4361b6){return _0x4d1e3a[_0x2b3b('a6','MbZp')](_0x272700,_0x4361b6);},'WBTiB':function(_0x21a0f4,_0x317d0d){return _0x4d1e3a['pbIRK'](_0x21a0f4,_0x317d0d);},'GzfwV':function(_0x464d69,_0x5b490b){return _0x4d1e3a[_0x2b3b('a7','b%hl')](_0x464d69,_0x5b490b);},'lyRpL':_0x4d1e3a[_0x2b3b('a8','(omG')],'bdIcV':_0x4d1e3a['ciqTF'],'YLZhx':function(_0x1cef35,_0x6e59f9){return _0x1cef35+_0x6e59f9;}};if(_0x4d1e3a[_0x2b3b('a9','uTXw')]('oCwfQ',_0x4d1e3a[_0x2b3b('aa','csP4')])){console[_0x2b3b('84','L1EI')](e);$['msg']($[_0x2b3b('ab','hhHE')],'',_0x4d1e3a['WEILM']);return[];}else{$[_0x2b3b('ac','MbZp')](_0x1408a9,async(_0x56d39e,_0x176446,_0xc895f8)=>{if(_0x2b6c6e[_0x2b3b('ad','sji%')](_0x2b3b('ae','Vvv('),_0x2b3b('af','[XXd'))){try{if(_0x2b6c6e['eRMHG']('cyHGk','ViiMt')){const _0xb2a313=JSON['parse'](_0xc895f8);if(_0xb2a313&&_0xb2a313['data']&&_0x2b6c6e[_0x2b3b('b0','THe$')](_0xb2a313[_0x2b3b('b1','rADj')][_0x2b3b('b2','SRdz')],0x0)){if(_0x2b6c6e[_0x2b3b('b3','hhHE')](_0x2b6c6e[_0x2b3b('b4','SRdz')],_0x2b3b('b5','g8tW'))){_0x2b6c6e[_0x2b3b('b6','DnOY')](_0x3977d);}else{console['log']('\x0a【京东账号'+$[_0x2b3b('b7','Ou@6')]+'（'+$['UserName']+'）的'+$[_0x2b3b('b8','rADj')]+_0x2b3b('b9','[o3r')+(_0xb2a313[_0x2b3b('ba','uTXw')]&&_0xb2a313[_0x2b3b('bb','y$mK')][_0x2b3b('bc','L1EI')][_0x2b3b('bd','#rC0')][_0x2b3b('be','3w6d')])+'\x0a');console[_0x2b3b('bf','H4zz')](_0x2b3b('c0','hhHE')+(_0xb2a313[_0x2b3b('c1','mopz')]&&_0xb2a313[_0x2b3b('c2','3w6d')][_0x2b3b('50','rADj')]['userActBaseInfo']['inviteId'])+'】\x0a');}}else{if(_0x2b6c6e[_0x2b3b('c3','Vvv(')](_0x2b6c6e[_0x2b3b('c4','hhHE')],_0x2b6c6e[_0x2b3b('c5','dMgS')])){$['log'](_0x2b6c6e['zvxRE'](_0x2b6c6e[_0x2b3b('c6','6[7j')]('😫',_0xb2a313[_0x2b3b('c7','b%hl')]),'\x0a'));}else{$['log'](message);}}}else{return JSON[_0x2b3b('c8','qaN%')](str);}}catch(_0x52bda2){$[_0x2b3b('95','zodJ')](_0x52bda2,_0x176446);}finally{_0x2b6c6e[_0x2b3b('c9','L1EI')](_0x3977d);}}else{var _0x30aa15=_0x2b6c6e[_0x2b3b('ca','y$mK')](~~_0x2b6c6e['DZnEL'](Math['random'](),count),i);newsharecodes[i]=arr[_0x30aa15];arr[_0x30aa15]=arr[i];count--;}});}});}async function showmsg(){var _0x4f83de={'euZWR':function(_0x1960e2){return _0x1960e2();},'MsiiB':function(_0x53effa,_0x4cd1f8){return _0x53effa==_0x4cd1f8;},'YnefJ':function(_0x21cdce,_0x8d7d1e){return _0x21cdce+_0x8d7d1e;},'xFosa':function(_0x4b000d,_0xb0d74b){return _0x4b000d<_0xb0d74b;},'qiyUV':_0x2b3b('cb','TkZj'),'HspFy':'OAMlr','LQouu':function(_0x285581,_0x387b1d){return _0x285581==_0x387b1d;},'EyEog':function(_0x162d3f,_0x5dd310){return _0x162d3f<=_0x5dd310;},'vFeKh':_0x2b3b('cc','BJsq'),'lUnbN':function(_0x381b93,_0x269373){return _0x381b93==_0x269373;},'JAICx':function(_0x352110,_0x550574){return _0x352110>=_0x550574;},'DrLSq':function(_0x4bf62f,_0x3efb3b){return _0x4bf62f===_0x3efb3b;},'wXIDU':_0x2b3b('cd','csP4'),'yybdf':_0x2b3b('ce','sji%')};if(_0x4f83de[_0x2b3b('cf','g8tW')](tz,0x1)){if(_0x4f83de[_0x2b3b('d0','BJsq')]!==_0x4f83de['HspFy']){if($[_0x2b3b('d1','dMgS')]()){if(_0x4f83de[_0x2b3b('d2','[o3r')](hour,0xc)&&_0x4f83de['EyEog'](minute,0x14)||_0x4f83de[_0x2b3b('d3','L1EI')](hour,0x17)&&minute>=0x28){if(_0x4f83de[_0x2b3b('d4','W!my')]!=='RWdPV'){_0x4f83de[_0x2b3b('d5','tBl)')](resolve);}else{await notify['sendNotify']($[_0x2b3b('d6','OByb')],message);}}else{$['log'](message);}}else{if(hour==0xc&&_0x4f83de['EyEog'](minute,0x14)||_0x4f83de[_0x2b3b('d7','hhHE')](hour,0x17)&&_0x4f83de['JAICx'](minute,0x28)){$[_0x2b3b('d8','*VWw')](zhiyi,'',message);}else{$[_0x2b3b('d9','MbZp')](message);}}}else{const _0xcb3c2d=JSON['parse'](data);if(_0xcb3c2d&&_0xcb3c2d[_0x2b3b('88','(omG')]&&_0x4f83de[_0x2b3b('da','#rC0')](_0xcb3c2d[_0x2b3b('bb','y$mK')]['bizCode'],0x0)){console[_0x2b3b('db','Ou@6')](_0x2b3b('dc','BJsq')+$['index']+'（'+$[_0x2b3b('dd','Vvv(')]+'）的'+$[_0x2b3b('48','L1EI')]+_0x2b3b('de','MbZp')+(_0xcb3c2d[_0x2b3b('df','b%hl')]&&_0xcb3c2d['data'][_0x2b3b('e0','Vvv(')]['userActBaseInfo']['inviteId'])+'\x0a');console[_0x2b3b('e1','csP4')](_0x2b3b('4f','[NQz')+(_0xcb3c2d[_0x2b3b('e2','2CV8')]&&_0xcb3c2d[_0x2b3b('e3','*VWw')]['result']['userActBaseInfo'][_0x2b3b('e4','[o3r')])+'】\x0a');}else{$['log'](_0x4f83de[_0x2b3b('e5','g8tW')]('😫'+_0xcb3c2d[_0x2b3b('e6','DYby')],'\x0a'));}}}else{if(_0x4f83de[_0x2b3b('e7','BJsq')](_0x4f83de[_0x2b3b('e8','*C@4')],_0x4f83de[_0x2b3b('e9','2BZC')])){var _0x487e38=new Array();for(var _0xa55964 in result){_0x487e38[_0x2b3b('ea','(omG')](result[_0xa55964]);}var _0x254f31=new Array();for(let _0xa55964=0x0;_0x4f83de[_0x2b3b('eb','7N8(')](_0xa55964,_0x487e38[_0x2b3b('ec','nmoH')]);_0xa55964++){for(var _0xc1821f in _0x487e38[_0xa55964]){_0x254f31[_0x2b3b('ed','MbZp')](_0x487e38[_0xa55964][_0xc1821f][_0x2b3b('ee','6[7j')]);}}CodeArr=_0x254f31;return _0x254f31;}else{$[_0x2b3b('90','[^8H')](message);}}}function jsonParse(_0x2f2a9b){var _0x1bd26e={'LMZQd':function(_0x4e0bb7,_0x2e178d){return _0x4e0bb7==_0x2e178d;},'jEjCZ':function(_0xdae21b,_0x80b464){return _0xdae21b>=_0x80b464;},'ZmOBq':function(_0x2a0f9f,_0x1925ed){return _0x2a0f9f==_0x1925ed;},'gkoMA':'string','aXchw':_0x2b3b('ef','qaN%'),'wlJMP':_0x2b3b('f0','g8tW')};if(_0x1bd26e[_0x2b3b('f1','$[Q#')](typeof _0x2f2a9b,_0x1bd26e[_0x2b3b('f2','3w6d')])){if(_0x1bd26e[_0x2b3b('f3','y$mK')]!=='iOjRa'){try{return JSON[_0x2b3b('f4','2BZC')](_0x2f2a9b);}catch(_0x1eeda6){console[_0x2b3b('f5','OByb')](_0x1eeda6);$['msg']($[_0x2b3b('f6','qaN%')],'',_0x1bd26e[_0x2b3b('f7','SRdz')]);return[];}}else{if(_0x1bd26e[_0x2b3b('f8','[o3r')](hour,0xc)&&minute<=0x14||hour==0x17&&_0x1bd26e[_0x2b3b('f9','TkZj')](minute,0x28)){$['msg'](zhiyi,'',message);}else{$[_0x2b3b('59','qaN%')](message);}}}};_0xod7='jsjiami.com.v6';
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
